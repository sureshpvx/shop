<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm shadow-md">
  <div class="container mx-auto px-6 py-4 flex items-center justify-between">

    <!-- Left Section: Logo and Main Navigation Links -->
    <div class="flex items-center gap-10">

      <!-- Logo -->
      <%= link_to root_path, class: "flex items-center gap-2 text-2xl font-black text-gray-900" do %>
        <svg class="h-8 w-8 text-indigo-600" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V17L12 22L22 17V7L12 2ZM4 8.236L12 12.511L20 8.236V15.764L12 20.039L4 15.764V8.236Z"></path>
        </svg>
        <span>E-Shop</span>
      <% end %>

      <!-- Main Links (Hidden on small screens) -->
      <div class="hidden md:flex items-center gap-6">
        <%= link_to "Home", root_path, class: "text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors" %>
        <%= link_to "Shop", "#", class: "text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors" %>
        <%= link_to "Categories", "#", class: "text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors" %>
        <%= link_to "About Us", "#", class: "text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors" %>
      </div>
    </div>

    <!-- Right Section: Actions and Auth Links -->
    <div class="flex items-center gap-4">

      <!-- Cart Icon -->
      <%= link_to "#", class: "relative p-2 rounded-full text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-colors hidden sm:block" do %>
        <span class="material-symbols-outlined">shopping_bag</span>
        <span class="absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-indigo-600 text-xs font-bold text-white">3</span>
      <% end %>

      <!-- User Authentication Links -->
      <% if logged_in? %>
        <!-- Logged In: Show Profile Name/Link and Logout Button -->
        <span class="text-sm font-medium text-gray-700 hidden sm:block">
          Welcome, <%= current_user.name.split.first %>
        </span>

        <%= link_to 'Log Out', logout_path,
                    data: { turbo_method: :delete },
                    class: "text-sm font-semibold px-3 py-1 rounded-md text-white bg-red-500 hover:bg-red-600 transition-colors" %>

      <% else %>
        <!-- Logged Out: Show Login and Signup Buttons -->
        <%= link_to "Log In", login_path,
                    class: "text-sm font-semibold px-3 py-1 rounded-md text-gray-700 border border-gray-300 hover:bg-gray-100 transition-colors hidden sm:block" %>

        <%= link_to "Sign Up", signup_path,
                    class: "text-sm font-semibold px-3 py-1 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition-colors" %>
      <% end %>

      <!-- Mobile Menu Button (Placeholder for JS toggle) -->
      <button class="md:hidden p-2 rounded-md text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-colors">
        <span class="material-symbols-outlined">menu</span>
      </button>

    </div>
  </div>
</header>
